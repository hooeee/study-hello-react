---
stitle: #8 [2021 UPDATE] WEATHER
date: 2022-11-25 22:00:00 +0900
category: JS
draft: false;
---

## 2022-11-25-#8-[2021 UPDATE]-WEATHER

## 목차

## 8.0 Geolocation

- weather.js

  ```js
  function onGeoOk(position){
    const lat = position.coords.latitude;
    const lon = position.coords.longitude;
    console.log("you live it", lat, lon);
    
  }
  function onGeoError(){
    alert("can't find you no weather for you")
  }
  navigator.geolocation.getCurrentPosition(onGeoOk(), onGeoError())
  ```

   

- api 얻기

  - https://openweathermap.org/api
    - 계정을 만들고 여기에 있는 것을 사용할 것임

## 8.1 Weather API 

- Current Weather Data  사용해서 날씨 정보가져올것임

```js
  const API_KEY = "apikey"
function onGeoOk(position){
  const lat = position.coords.latitude;
  const lon = position.coords.longitude;
  console.log("you live it", lat, lng);
 const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric`;
fetch(url).then(response => response.json().then(data =>{
  const weather = document.querySelector("#weather span:first-child");
  const city = document.querySelector("#weather span:last-child");
city.innerText = data.name;
weather.innerText = `${data.weather[0].main}/ ${data.main.temp}`;
});
}
function onGeoError(){  
  alert("can't find you no weather for you")
}
navigator.geolocation.getCurrentPosition(onGeoOk(), onGeoError())
```

- html 추가

  ```html
  <div id ="weather">
    <span></span>
    <span></span>
  </div>
  ```

## 8.2 Conclusions 

- Js는 백엔드도 만들 수 있고,  비밀번호, video저장하고 video format을 처리할 수 있음
  - 다운로드, 업로드등등 할 수 있음
- 이제 실습이 남았다. 